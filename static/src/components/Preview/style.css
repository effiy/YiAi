/* ---------- 图片预览（点击放大） ---------- */
.imgPreviewOverlay{
  position:fixed;
  inset:0;
  z-index:120;
  display:none;
}
.imgPreviewOverlay[aria-hidden="false"]{
  display:block;
}
.imgPreviewOverlay__backdrop{
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.86);
}
.imgPreviewOverlay__content{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  padding: 56px 14px calc(84px + var(--safe-bottom));
}
.imgPreviewOverlay__img{
  max-width:100%;
  max-height:100%;
  object-fit:contain;
  border-radius:14px;
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
  background: rgba(0,0,0,.22);
}
.imgPreviewNav{
  position:absolute;
  top: 50%;
  transform: translateY(-50%);
  width:44px;
  height:44px;
  border-radius: 999px;
  display:grid;
  place-items:center;
  color:#fff;
  background: rgba(255,255,255,.12);
  border: 1px solid rgba(255,255,255,.16);
  pointer-events:auto;
}
.imgPreviewNav svg{width:22px;height:22px;fill:currentColor}
.imgPreviewNav:active{opacity:.85}
.imgPreviewNav--prev{left: 10px;}
.imgPreviewNav--next{right: 10px;}

/* 小屏减少遮挡 */
@media (max-width: 360px){
  .imgPreviewNav{width:40px;height:40px}
  .imgPreviewNav svg{width:20px;height:20px}
}
.imgPreviewOverlay__topbar{
  position:absolute;
  left:0;
  right:0;
  top: calc(10px + var(--safe-top));
  padding: 0 10px;
  z-index:2;
  display:flex;
  align-items:center;
  justify-content:flex-end;
  pointer-events:none;
}
.imgPreviewOverlay__count{
  pointer-events:none;
  margin-right:auto;
  margin-left:2px;
  font-size:12px;
  font-weight:800;
  color: rgba(255,255,255,.9);
  background: rgba(255,255,255,.12);
  border: 1px solid rgba(255,255,255,.16);
  padding: 6px 10px;
  border-radius: 999px;
}
.imgPreviewOverlay__close{
  pointer-events:auto;
  width:38px;
  height:38px;
  border-radius:12px;
  display:grid;
  place-items:center;
  color:#fff;
  background: rgba(255,255,255,.12);
  border: 1px solid rgba(255,255,255,.16);
}
.imgPreviewOverlay__close:active{opacity:.85}
.imgPreviewOverlay__close svg{width:18px;height:18px;fill:currentColor}

.imgPreviewOverlay__hint{
  position:absolute;
  left:0;
  right:0;
  bottom: calc(10px + var(--safe-bottom));
  z-index:2;
  display:flex;
  justify-content:center;
  pointer-events:none;
}
.imgPreviewOverlay__hintText{
  pointer-events:none;
  font-size:12px;
  color: rgba(255,255,255,.86);
  background: rgba(0,0,0,.35);
  border: 1px solid rgba(255,255,255,.10);
  padding: 6px 10px;
  border-radius: 999px;
}

.imgPreviewActions{
  position:absolute;
  left:0;
  right:0;
  bottom: var(--vv-bottom);
  z-index:3;
  padding: 10px 12px calc(10px + var(--safe-bottom));
}
.imgPreviewActions__panel{
  background: rgba(255,255,255,.96);
  border-radius: 16px;
  overflow:hidden;
  box-shadow: var(--shadow);
  border: 1px solid rgba(255,255,255,.18);
}

/* 桌面端（或性能更充裕的环境）再开启毛玻璃，兼顾观感与移动端流畅度 */
@media (hover: hover) and (min-width: 900px){
  .imgPreviewActions__panel{
    backdrop-filter: saturate(140%) blur(18px);
  }
}
.imgPreviewActions__btn{
  width:100%;
  height:48px;
  font-weight:800;
  font-size:15px;
  color:#1f1f1f;
  background: transparent;
  border:0;
}
.imgPreviewActions__btn + .imgPreviewActions__btn{
  border-top:1px solid rgba(0,0,0,.08);
}
.imgPreviewActions__btn.is-primary{
  color:#056a36;
}
.imgPreviewActions__btn.is-cancel{
  color: var(--muted);
}
.imgPreviewActions__btn:active{
  background: rgba(0,0,0,.04);
}

.imgPreviewToast{
  position:absolute;
  left:0;
  right:0;
  bottom: calc(78px + var(--safe-bottom));
  z-index:4;
  display:flex;
  justify-content:center;
  pointer-events:none;
  opacity:0;
  transform: translateY(8px);
  transition: opacity .18s ease, transform .18s ease;
}
.imgPreviewToast.is-show{
  opacity:1;
  transform: translateY(0);
}
.imgPreviewToast__text{
  font-size:12px;
  color: rgba(255,255,255,.92);
  background: rgba(0,0,0,.55);
  border: 1px solid rgba(255,255,255,.12);
  padding: 8px 10px;
  border-radius: 12px;
  max-width: 86%;
  text-align:center;
}
